<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Médiapolygon 2040: Mission Control</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #00FF41; }
        
        body {
            background-color: #000;
            margin: 0;
            overflow: hidden;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }
        
        .animate-blink {
            animation: blink 1s step-end infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICON COMPONENT WRAPPER ---
        const Icon = ({ name, size = 24, className = "" }) => {
            const sizeStyle = { fontSize: size + 'px', width: size + 'px', height: size + 'px', display: 'inline-flex', alignItems: 'center', justifyContent: 'center' };
            const map = {
                'Terminal': 'fa-terminal',
                'Cpu': 'fa-microchip',
                'Users': 'fa-users',
                'Globe': 'fa-globe',
                'Radio': 'fa-satellite-dish',
                'Share2': 'fa-share-alt',
                'ShieldAlert': 'fa-shield-halved',
                'Copy': 'fa-copy',
                'CheckCircle': 'fa-circle-check',
                'Code': 'fa-code',
                'Zap': 'fa-bolt',
                'Layers': 'fa-layer-group',
                'AlertTriangle': 'fa-triangle-exclamation',
                'Hammer': 'fa-hammer',
                'Search': 'fa-magnifying-glass',
                'Sword': 'fa-shield-virus',
                'Crown': 'fa-crown',
                'Play': 'fa-play',
                'RefreshCw': 'fa-rotate',
                'MessageSquare': 'fa-message',
                'ChevronRight': 'fa-chevron-right',
                'ChevronLeft': 'fa-chevron-left'
            };
            return <i className={`fa-solid ${map[name] || 'fa-question'} ${className}`} style={sizeStyle}></i>;
        };

        // --- GEMINI TERMINAL SIMULATOR ---
        const GeminiTerminal = ({ type, faction }) => {
            const [status, setStatus] = useState('IDLE');
            const [output, setOutput] = useState('');
            
            const scenarios = {
                'brainstorm_blue': {
                    input: 'Роль: UX-архитектор. Задача: Структура лендинга для медиа "Neon Tymen".',
                    process: ['> АНАЛИЗ КОНТЕКСТА...', '> ГЕНЕРАЦИЯ СТРУКТУРЫ...', '> НАПИСАНИЕ TEASER-ТЕКСТОВ...'],
                    result: `1. HERO BLOCK: "Тюмень 2040: Мы видим будущее."\n2. NEWS GRID: Сетка последних сигналов.\n3. MANIFESTO: "Технологии ради людей".\n4. TEAM: Аватары оперативников.\n\nРЕКОМЕНДАЦИЯ: Использовать CSS Grid для блока новостей.`
                },
                'brainstorm_red': {
                    input: 'Роль: Инженер R&D. Задача: 5 идей инструментов против фейков.',
                    process: ['> СКАН ВЕКТОРОВ АТАКИ...', '> ПОИСК ТЕХНОЛОГИЙ...', '> СИНТЕЗ РЕШЕНИЙ...'],
                    result: `1. DEEPFAKE DETECTOR: Анализ артефактов на видео.\n2. TEXT SENTIMENT: Поиск эмоциональных манипуляций.\n3. SOURCE TRACER: Поиск первоисточника цитаты.\n4. IMAGE HASH: Сверка с базой фейков.\n5. BOT CHECKER: Анализ профиля в соцсетях.`
                },
                'debug': {
                    input: 'ERROR: Uncaught TypeError: Cannot read property "style" of null at main.js:15',
                    process: ['> ЧТЕНИЕ СТЕКА ОШИБКИ...', '> АНАЛИЗ DOM-ДЕРЕВА...', '> ПОИСК РЕШЕНИЯ...'],
                    result: `ДИАГНОЗ: Скрипт пытается найти элемент, которого еще нет на странице.\nРЕШЕНИЕ:\n1. Перенесите <script> в конец <body>.\n2. Или оберните код в document.addEventListener('DOMContentLoaded').`
                },
                'critique': {
                    input: 'Генерация каверзного вопроса для оппонентов.',
                    process: ['> АНАЛИЗ УЯЗВИМОСТЕЙ...', '> ГЕНЕРАЦИЯ АТАКИ...', '> ФОРМУЛИРОВКА ВОПРОСА...'],
                    result: [
                        "ВОПРОС: Как ваш продукт защищен от взлома и подмены данных?",
                        "ВОПРОС: Что будет, если API нейросети станет платным? Ваш проект умрет?",
                        "ВОПРОС: Как вы проверяете достоверность данных, на которых учится ваш алгоритм?"
                    ]
                }
            };

            const currentScenario = scenarios[type === 'faction' ? `brainstorm_${faction}` : type];

            const runSimulation = () => {
                setStatus('PROCESSING');
                setOutput('');
                let step = 0;
                const interval = setInterval(() => {
                    if (step < currentScenario.process.length) {
                        setOutput(prev => prev + currentScenario.process[step] + '\n');
                        step++;
                    } else {
                        clearInterval(interval);
                        const res = Array.isArray(currentScenario.result) 
                            ? currentScenario.result[Math.floor(Math.random() * currentScenario.result.length)]
                            : currentScenario.result;
                        setOutput(prev => prev + '\n>>> ' + res);
                        setStatus('DONE');
                    }
                }, 800);
            };

            return (
                <div className="w-full bg-black border border-cyan-500/50 rounded-lg p-4 font-mono text-sm shadow-[0_0_15px_rgba(0,243,255,0.1)] mt-4">
                    <div className="flex justify-between items-center border-b border-gray-700 pb-2 mb-2">
                        <div className="flex items-center gap-2 text-cyan-400">
                            <Icon name="Cpu" size={16} /> <span>GEMINI_CORE_V.40</span>
                        </div>
                        <div className={`text-xs ${status === 'PROCESSING' ? 'animate-pulse text-yellow-400' : 'text-gray-500'}`}>
                            STATUS: {status}
                        </div>
                    </div>
                    
                    <div className="text-gray-400 mb-4 border-l-2 border-gray-600 pl-2">
                        INPUT: <span className="text-white italic">{currentScenario?.input || 'Ready...'}</span>
                    </div>

                    <div className="min-h-[120px] whitespace-pre-wrap text-green-400 mb-4">
                        {output}
                    </div>

                    <button 
                        onClick={runSimulation}
                        disabled={status === 'PROCESSING'}
                        className="w-full bg-cyan-900/30 hover:bg-cyan-900/50 border border-cyan-500 text-cyan-400 py-2 rounded flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        {status === 'PROCESSING' ? <Icon name="RefreshCw" size={16} className="animate-spin"/> : <Icon name="Play" size={16}/>}
                        <span className="ml-2">{status === 'IDLE' ? 'ЗАПУСТИТЬ СИМУЛЯЦИЮ' : status === 'PROCESSING' ? 'ВЫЧИСЛЕНИЕ...' : 'СГЕНЕРИРОВАТЬ СНОВА'}</span>
                    </button>
                </div>
            );
        };

        // --- MAIN APP COMPONENT ---
        const CyberMegaPresentation = () => {
            const [currentSlide, setCurrentSlide] = useState(0);
            const [glitch, setGlitch] = useState(false);
            const [typedText, setTypedText] = useState('');
            const [activeFaction, setActiveFaction] = useState('blue'); 

            const slides = [
                {
                    id: 0, type: 'title', title: 'ПРОТОКОЛ "ПРОТИВОСТОЯНИЕ"',
                    subtitle: 'ПОЛНЫЙ ЦИКЛ РАЗРАБОТКИ (3 ЗАНЯТИЯ)',
                    details: ['11.1: ПРОЕКТИРОВАНИЕ', '11.2: КОМПИЛЯЦИЯ', '11.3: ВЕРДИКТ'],
                    icon: 'Layers'
                },
                {
                    id: 1, type: 'section_header', session: 'ЗАНЯТИЕ 1 (90 МИН)',
                    title: 'ПРОТОКОЛ R&D', desc: 'АРХИТЕКТУРА И ИССЛЕДОВАНИЕ', color: 'text-yellow-400'
                },
                {
                    id: 2, type: 'content', header: 'ВХОДЯЩАЯ ТРАНСЛЯЦИЯ', subHeader: 'РАЗДЕЛЕНИЕ НА ФРАКЦИИ',
                    content: (
                        <div className="space-y-6">
                            <p className="text-xl text-white">«Мы переходим в фазу открытого противостояния. Вы становитесь <span className="text-cyan-400">инженерами информационной войны</span>.»</p>
                            <div className="grid grid-cols-2 gap-4 mt-8">
                                <div className="border border-blue-500 bg-blue-900/20 p-6 rounded hover:bg-blue-900/30 transition-all">
                                    <h3 className="text-3xl text-blue-400 font-black mb-2">BLUE TEAM</h3>
                                    <p className="text-gray-300 font-bold">СТРОИТЕЛИ</p>
                                    <p className="text-sm text-gray-400 mt-2">Миссия: Создать "витрину" вашего мира.</p>
                                </div>
                                <div className="border border-red-500 bg-red-900/20 p-6 rounded hover:bg-red-900/30 transition-all">
                                    <h3 className="text-3xl text-red-400 font-black mb-2">RED TEAM</h3>
                                    <p className="text-gray-300 font-bold">ИНЖЕНЕРЫ</p>
                                    <p className="text-sm text-gray-400 mt-2">Миссия: Создать инструмент анализа правды.</p>
                                </div>
                            </div>
                        </div>
                    )
                },
                {
                    id: 3, type: 'gemini_demo', header: 'ШАГ 1: ПРОЕКТИРОВАНИЕ', subHeader: 'МОЗГОВОЙ ШТУРМ С AI',
                    desc: 'Используйте Gemini/Алису как архитектора. Выберите фракцию, чтобы увидеть пример работы.',
                    blue: { task: 'Спроектировать структуру лендинга.', prompt: 'Роль: UX-архитектор. Придумай структуру сайта медиа.' },
                    red: { task: 'Придумать 5 идей AI-инструментов.', prompt: 'Роль: Инженер R&D. 5 идей против фейков.' }
                },
                {
                    id: 4, type: 'faction_tasks', header: 'ШАГ 2: ИССЛЕДОВАНИЕ (R&D)', subHeader: 'ПОИСК ТЕХНОЛОГИЙ',
                    blue: { title: 'ВЫБОР ХОСТИНГА', points: ['Спросите AI: "Как задеплоить HTML бесплатно?"', 'Сравните: GitHub Pages vs Netlify.', 'Выбор: Где будет жить ваш сайт?'] },
                    red: { title: 'ВЫБОР СТЕКА', points: ['Промпт-Разведчик: "Как реализовать мою идею без кода?"', 'Промпт-Аналитик: "Сравни No-code vs Python".', 'Выбор: Glide, Replit или HTML+JS?'] }
                },
                {
                    id: 5, type: 'checkpoint', header: 'ЧЕКПОИНТ СЕССИИ 1', text: 'В ОБЩИЙ ЧАТ:', subText: 'BLUE TEAM: Выбранный хостинг.\nRED TEAM: Выбранный тех. стек.'
                },
                {
                    id: 6, type: 'section_header', session: 'ЗАНЯТИЕ 2 (90 МИН)', title: 'ПРОТОКОЛ "КОМПИЛЯЦИЯ"', desc: 'ХАКАТОН: КОДИНГ И ОТЛАДКА', color: 'text-green-400'
                },
                {
                    id: 7, type: 'warning_interactive', header: 'ПРОТОКОЛ "АНТИ-ПАНИКА"', subHeader: 'ОШИБКИ — ЭТО ТОПЛИВО',
                    content: (
                        <div className="text-center"><div className="grid grid-cols-3 gap-4 mb-8">
                            <div className="p-4 bg-gray-800 border border-gray-600 rounded"><h4 className="text-red-400 font-bold">1. НЕ ПАНИКУЕМ</h4><p className="text-xs text-gray-400 mt-2">Красный текст ошибки — это просто инструкция.</p></div>
                            <div className="p-4 bg-gray-800 border border-gray-600 rounded"><h4 className="text-yellow-400 font-bold">2. КОПИРУЕМ</h4><p className="text-xs text-gray-400 mt-2">Скриншот или текст ошибки &rarr; отправляем в AI.</p></div>
                            <div className="p-4 bg-gray-800 border border-gray-600 rounded"><h4 className="text-green-400 font-bold">3. СПРАШИВАЕМ</h4><p className="text-xs text-gray-400 mt-2">"Что это значит и как исправить?"</p></div>
                        </div></div>
                    )
                },
                {
                    id: 8, type: 'gemini_demo', specialType: 'debug', header: 'СИМУЛЯТОР ОТЛАДКИ', subHeader: 'КАК РАБОТАТЬ С ОШИБКАМИ',
                    desc: 'Представьте: ваш код не работает, консоль красная. Что делать? Смотрите пример.',
                    blue: { task: 'DEBUG MODE', prompt: 'Fix Error' }, red: { task: 'DEBUG MODE', prompt: 'Fix Error' }
                },
                {
                    id: 9, type: 'faction_tasks', header: 'ЗАДАЧИ ХАКАТОНА', subHeader: '65 МИНУТ СПРИНТА',
                    blue: { title: 'СБОРКА САЙТА', points: ['1. Генерация HTML/CSS по ТЗ (25 мин).', '2. Создание репозитория GitHub (25 мин).', '3. Деплой и тест на мобильном (15 мин).'] },
                    red: { title: 'СБОРКА ПРОТОТИПА', points: ['1. Настройка среды (Replit/Glide) (15 мин).', '2. Базовая логика/интерфейс (20 мин).', '3. Интеграция "мозга" и отладка (30 мин).'] }
                },
                {
                    id: 10, type: 'checkpoint', header: 'ЧЕКПОИНТ СЕССИИ 2', text: 'В СЕТКУ (IN2040.RU):', subText: 'Опубликовать ссылку на работающий прототип.\nДаже если он кривой. Если он работает — это победа.'
                },
                {
                    id: 11, type: 'section_header', session: 'ЗАНЯТИЕ 3 (90 МИН)', title: 'ПРОТОКОЛ "ВЕРДИКТ"', desc: 'ПИТЧИНГ И БАТТЛ ПРОДУКТОВ', color: 'text-purple-400'
                },
                {
                    id: 12, type: 'content', header: 'СТРУКТУРА ПИТЧА', subHeader: '5 МИНУТ НА ЗАЩИТУ',
                    content: (
                        <div className="bg-black/40 p-6 rounded border border-purple-500">
                            <ul className="space-y-6">
                                <li className="flex gap-4 items-start"><span className="bg-purple-900 text-purple-400 px-3 py-1 rounded font-bold font-mono">01</span><div><strong className="text-white text-xl block">ПРОБЛЕМА (1 МИН)</strong><span className="text-gray-400">Какую боль решает ваш продукт? Почему он нужен в 2040 году?</span></div></li>
                                <li className="flex gap-4 items-start"><span className="bg-purple-900 text-purple-400 px-3 py-1 rounded font-bold font-mono">02</span><div><strong className="text-white text-xl block">РЕШЕНИЕ (3 МИН)</strong><span className="text-green-400 font-bold">LIVE DEMO!</span> <span className="text-gray-400">Покажите экран, нажмите кнопки. Докажите, что он работает.</span></div></li>
                                <li className="flex gap-4 items-start"><span className="bg-purple-900 text-purple-400 px-3 py-1 rounded font-bold font-mono">03</span><div><strong className="text-white text-xl block">ВЛИЯНИЕ (1 МИН)</strong><span className="text-gray-400">Как это изменит баланс сил в информационной войне?</span></div></li>
                            </ul>
                        </div>
                    )
                },
                {
                    id: 13, type: 'gemini_demo', specialType: 'critique', header: 'ПЕРЕКРЕСТНЫЙ ДОПРОС', subHeader: 'ГЕНЕРАТОР НЕУДОБНЫХ ВОПРОСОВ',
                    desc: 'Оппоненты могут использовать AI, чтобы найти уязвимости в вашем проекте.', blue: { task: 'CRITICAL MODE', prompt: 'Attack' }, red: { task: 'CRITICAL MODE', prompt: 'Attack' }
                },
                {
                    id: 14, type: 'content', header: 'ФИНАЛ ОПЕРАЦИИ', subHeader: 'ИТОГИ',
                    content: (
                        <div className="text-center space-y-8 flex flex-col items-center justify-center h-full">
                            <Icon name="Crown" size={80} className="text-yellow-500 animate-bounce mx-auto" />
                            <h2 className="text-4xl font-black text-white">МИССИЯ ВЫПОЛНЕНА</h2>
                            <div className="max-w-2xl text-lg text-gray-300 space-y-4 mx-auto">
                                <p>Вы прошли путь от идеи до кода. Вы не испугались ошибок.</p>
                                <p className="text-cyan-400 font-bold text-xl">"ГЛАВНЫЙ РЕЗУЛЬТАТ — НЕ САЙТ, А ВАШ ОПЫТ."</p>
                            </div>
                        </div>
                    )
                }
            ];

            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.key === 'ArrowRight' || e.key === 'Space') nextSlide();
                    else if (e.key === 'ArrowLeft') prevSlide();
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [currentSlide]);

            useEffect(() => {
                setTypedText('');
                const text = slides[currentSlide].type === 'title' 
                    ? slides[currentSlide].title 
                    : (slides[currentSlide].header || '');
                if (!text) return;
                let i = 0;
                const typing = setInterval(() => {
                    setTypedText(text.substring(0, i + 1));
                    i++;
                    if (i > text.length) clearInterval(typing);
                }, 30);
                return () => clearInterval(typing);
            }, [currentSlide]);

            const nextSlide = () => { if (currentSlide < slides.length - 1) { setGlitch(true); setTimeout(() => setGlitch(false), 300); setCurrentSlide(prev => prev + 1); } };
            const prevSlide = () => { if (currentSlide > 0) { setGlitch(true); setTimeout(() => setGlitch(false), 300); setCurrentSlide(prev => prev - 1); } };
            const CopyButton = ({ text }) => {
                const [copied, setCopied] = useState(false);
                const handleCopy = () => {
                    const ta = document.createElement("textarea"); ta.value = text; document.body.appendChild(ta); ta.select();
                    try { document.execCommand('copy'); setCopied(true); } catch (e) {}
                    document.body.removeChild(ta); setTimeout(() => setCopied(false), 2000);
                };
                return <button onClick={handleCopy} className="flex items-center gap-2 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-xs text-white transition-colors mt-2">{copied ? <Icon name="CheckCircle" size={14}/> : <Icon name="Copy" size={14}/>} {copied ? 'СКОПИРОВАНО' : 'КОПИРОВАТЬ'}</button>;
            };

            const currentData = slides[currentSlide];

            return (
                <div className={`min-h-screen bg-black text-gray-200 font-sans overflow-hidden relative selection:bg-green-500 selection:text-black ${glitch ? 'animate-pulse' : ''}`}>
                    {/* Matrix Effect */}
                    <div className="fixed inset-0 pointer-events-none z-50 opacity-10 bg-[linear-gradient(rgba(0,255,0,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,0,0.03)_1px,transparent_1px)] bg-[length:20px_20px]"></div>
                    
                    <div className="relative z-10 flex flex-col h-screen max-w-7xl mx-auto p-4 md:p-6">
                        {/* Header */}
                        <div className="flex justify-between items-center border-b border-gray-800 pb-4 mb-4">
                            <div className="flex items-center gap-3">
                                <Icon name="Terminal" className="text-cyan-500" size={20} />
                                <div className="flex flex-col"><span className="text-xs font-mono text-cyan-600">PROTOCOL: CONFRONTATION</span><span className="text-xs font-mono text-gray-500">SECURE_CHANNEL_V2.0</span></div>
                            </div>
                            <div className="text-right"><span className="text-xs font-mono text-gray-500">SLIDE: {currentSlide + 1} / {slides.length}</span></div>
                        </div>

                        {/* Content Area */}
                        <div className="flex-1 flex flex-col justify-center relative">
                            <div className="w-full bg-black/60 border border-gray-800 p-8 rounded-lg shadow-2xl backdrop-blur min-h-[600px] flex flex-col">
                                
                                {currentData.type === 'title' && (
                                    <div className="h-full flex flex-col items-center justify-center text-center">
                                        <div className="p-8 border-4 border-double border-cyan-500 rounded-full mb-8 shadow-[0_0_50px_rgba(0,243,255,0.2)]"><Icon name={currentData.icon} size={64}/></div>
                                        <h1 className="text-6xl font-black text-white mb-4 tracking-tight">{typedText}</h1>
                                        <h2 className="text-2xl text-gray-400 font-mono mb-8">{currentData.subtitle}</h2>
                                        <div className="flex gap-4">{currentData.details.map((d,i) => <span key={i} className="px-3 py-1 border border-gray-700 text-xs font-mono text-green-500 bg-gray-900">{d}</span>)}</div>
                                    </div>
                                )}

                                {currentData.type === 'section_header' && (
                                    <div className="h-full flex flex-col items-center justify-center text-center">
                                        <span className="font-mono text-sm tracking-[0.5em] text-gray-500 mb-6">{currentData.session}</span>
                                        <h1 className={`text-7xl font-black mb-6 ${currentData.color}`}>{currentData.title}</h1>
                                        <p className="text-2xl text-white font-mono border-t border-b border-gray-700 py-4">{currentData.desc}</p>
                                    </div>
                                )}

                                {(currentData.type === 'content' || currentData.type === 'warning_interactive') && (
                                    <div className="h-full flex flex-col">
                                        <h2 className="text-3xl font-bold text-white mb-2">{typedText}</h2>
                                        <h3 className="text-xl text-gray-400 font-mono mb-8 border-b border-gray-700 pb-2">// {currentData.subHeader}</h3>
                                        <div className="flex-1">{currentData.content}</div>
                                    </div>
                                )}

                                {currentData.type === 'gemini_demo' && (
                                    <div className="h-full flex flex-col">
                                        <div className="flex justify-between items-start mb-6">
                                            <div><h2 className="text-3xl font-bold text-white mb-2">{typedText}</h2><p className="text-gray-400 font-mono text-sm">{currentData.desc}</p></div>
                                            {!currentData.specialType && (
                                                <div className="flex gap-2">
                                                    <button onClick={() => setActiveFaction('blue')} className={`px-3 py-1 text-xs font-bold rounded border ${activeFaction === 'blue' ? 'bg-blue-600 text-white border-blue-400' : 'bg-gray-800 border-gray-700'}`}>BLUE</button>
                                                    <button onClick={() => setActiveFaction('red')} className={`px-3 py-1 text-xs font-bold rounded border ${activeFaction === 'red' ? 'bg-red-600 text-white border-red-400' : 'bg-gray-800 border-gray-700'}`}>RED</button>
                                                </div>
                                            )}
                                        </div>
                                        <div className="flex-1 flex flex-col md:flex-row gap-8">
                                            <div className="flex-1">
                                                <h4 className="text-cyan-500 font-bold mb-4 flex items-center gap-2"><Icon name="MessageSquare" size={18}/> ЗАДАЧА:</h4>
                                                <p className="text-xl text-white mb-6">{currentData.specialType ? currentData.desc : currentData[activeFaction].task}</p>
                                                <div className="p-4 bg-gray-800 rounded border-l-4 border-purple-500">
                                                    <span className="text-xs font-mono text-purple-400 block mb-1">PROMPT TEMPLATE:</span>
                                                    <p className="text-sm font-mono text-gray-300">{currentData.specialType ? (currentData.specialType === 'debug' ? 'Error text...' : 'Generate critique...') : currentData[activeFaction].prompt}</p>
                                                    <div className="flex justify-end"><CopyButton text={currentData.specialType ? (currentData.specialType === 'debug' ? 'Error text...' : 'Generate critique...') : currentData[activeFaction].prompt} /></div>
                                                </div>
                                            </div>
                                            <div className="flex-1"><GeminiTerminal type={currentData.specialType || 'faction'} faction={activeFaction} /></div>
                                        </div>
                                    </div>
                                )}

                                {currentData.type === 'faction_tasks' && (
                                    <div className="h-full flex flex-col">
                                        <div className="flex justify-between items-start mb-6">
                                            <h2 className="text-3xl font-bold text-white">{typedText}</h2>
                                            <div className="flex gap-2">
                                                <button onClick={() => setActiveFaction('blue')} className={`px-4 py-2 font-bold rounded border ${activeFaction === 'blue' ? 'bg-blue-900 text-blue-200 border-blue-400' : 'bg-gray-800 text-gray-500 border-gray-700'}`}>BLUE TEAM</button>
                                                <button onClick={() => setActiveFaction('red')} className={`px-4 py-2 font-bold rounded border ${activeFaction === 'red' ? 'bg-red-900 text-red-200 border-red-400' : 'bg-gray-800 text-gray-500 border-gray-700'}`}>RED TEAM</button>
                                            </div>
                                        </div>
                                        <div className={`flex-1 p-6 rounded-lg border ${activeFaction === 'blue' ? 'bg-blue-900/10 border-blue-500/30' : 'bg-red-900/10 border-red-500/30'}`}>
                                            <h3 className={`text-2xl font-bold mb-6 ${activeFaction === 'blue' ? 'text-blue-400' : 'text-red-400'}`}>{currentData[activeFaction].title}</h3>
                                            <ul className="space-y-4">
                                                {currentData[activeFaction].points.map((p, i) => <li key={i} className="flex items-center gap-3 text-lg text-gray-200"><Icon name="Hammer" size={18} className={activeFaction === 'blue' ? 'text-blue-500' : 'text-red-500'} />{p}</li>)}
                                            </ul>
                                        </div>
                                    </div>
                                )}

                                {currentData.type === 'checkpoint' && (
                                    <div className="h-full flex flex-col items-center justify-center text-center">
                                        <Icon name="CheckCircle" size={80} className="text-green-500 mb-6 animate-bounce" />
                                        <h2 className="text-4xl font-black text-white mb-2">{currentData.header}</h2>
                                        <div className="bg-gray-800 p-8 rounded-xl border border-green-500 mt-8 max-w-2xl w-full">
                                            <p className="text-green-400 font-bold text-xl mb-4">{currentData.text}</p>
                                            <p className="text-gray-300 whitespace-pre-line">{currentData.subText}</p>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="mt-6 flex justify-between items-center px-4">
                            <button onClick={prevSlide} disabled={currentSlide===0} className="text-gray-500 hover:text-white disabled:opacity-30"><Icon name="ChevronLeft" size={32}/></button>
                            <div className="flex gap-1">{slides.map((_, i) => <div key={i} className={`h-1 w-8 rounded ${i <= currentSlide ? 'bg-cyan-500' : 'bg-gray-800'}`}></div>)}</div>
                            <button onClick={nextSlide} disabled={currentSlide===slides.length-1} className="text-gray-500 hover:text-white disabled:opacity-30"><Icon name="ChevronRight" size={32}/></button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CyberMegaPresentation />);
    </script>
</body>
</html>
